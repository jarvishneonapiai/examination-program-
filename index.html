<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Secure Typing Test</title>

<style>
*{box-sizing:border-box}
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:black;
  color:#0ff;
  overflow:hidden;
}

/* ===== HACKING TERMINAL BACKGROUND ===== */
#hackerBg{
  position:fixed;
  inset:0;
  background:
    repeating-linear-gradient(
      to bottom,
      rgba(0,255,255,0.15) 0px,
      rgba(0,255,255,0.15) 1px,
      transparent 2px,
      transparent 6px
    ),
    repeating-linear-gradient(
      to bottom,
      rgba(255,255,0,0.15) 0px,
      rgba(255,255,0,0.15) 1px,
      transparent 2px,
      transparent 10px
    );
  animation:scan 4s linear infinite;
  z-index:0;
}

@keyframes scan{
  from{background-position:0 0,0 0}
  to{background-position:0 400px,0 800px}
}

/* ===== SCREENS ===== */
.screen{
  position:fixed;
  inset:0;
  display:flex;
  justify-content:center;
  align-items:center;
  flex-direction:column;
  background:rgba(0,0,0,0.65); /* transparent enough */
  z-index:1;
}
.hidden{display:none}

/* ===== UI ===== */
h1{font-size:38px;text-shadow:0 0 15px cyan}
input,button,textarea{
  padding:10px;
  margin:8px;
  border:none;
  border-radius:5px;
}
button{
  background:#0ff;
  font-weight:bold;
  cursor:pointer;
}
textarea{
  width:90%;
  max-width:900px;
}

/* ===== EXAM ===== */
.paraBox{
  border:1px solid cyan;
  padding:15px;
  margin-bottom:15px;
}

/* ===== FLOATING INFO ===== */
#floatingInfo{
  position:fixed;
  bottom:15px;
  right:15px;
  display:flex;
  gap:12px;
  align-items:center;
  font-size:14px;
  z-index:2;
}

/* CAMERA */
#camera{
  width:70px;
  height:70px;
  border:2px solid cyan;
  border-radius:50%;
  overflow:hidden;
}
#camera video{
  width:100%;
  height:100%;
  object-fit:cover;
}
</style>
</head>

<body>

<!-- BACKGROUND -->
<div id="hackerBg"></div>

<!-- LOGIN -->
<div id="loginScreen" class="screen">
  <h1>Jarvishneonopenai</h1>
  <h3>Basic Web Development Programme</h3>
  <input id="username" placeholder="Username">
  <input type="password" placeholder="Password">
  <button onclick="login()">Login</button>
</div>

<!-- COUNTDOWN -->
<div id="countdownScreen" class="screen hidden">
  <h2>Your exam will start in</h2>
  <h1 id="countdown">02:00</h1>

  <p style="color:yellow;max-width:650px">
    ⚠️ WARNING: You are under live monitoring. Any cheating, misuse,
    tab switching, or suspicious activity will result in immediate
    cancellation of your exam and registration.
  </p>

  <p>
    "Discipline is choosing between what you want now and what you want most."
  </p>
</div>

<!-- EXAM -->
<div id="examScreen" class="screen hidden">
  <h2>Typing Test (Moderate Level)</h2>

  <div class="paraBox">
Technology has become an essential part of modern life. From communication to
education, digital tools help people work faster and smarter. The internet allows
instant access to information and connects individuals across the world. However,
responsible use of technology is important. Overdependence can reduce productivity
and affect health. Balancing digital usage with real life skills leads to long term
success and personal growth.
  </div>

  <textarea rows="8" placeholder="Type the above paragraph here..."></textarea>
</div>

<!-- FLOATING INFO -->
<div id="floatingInfo" class="hidden">
  <div>
    <div id="studentName"></div>
    <div>Time: <span id="examTimer">20:00</span></div>
  </div>
  <div id="camera">
    <video id="video" autoplay muted></video>
  </div>
</div>

<script>
let student="";

/* SCREEN SWITCH */
function showScreen(id){
  document.querySelectorAll(".screen").forEach(s=>s.classList.add("hidden"));
  document.getElementById(id).classList.remove("hidden");
}

/* LOGIN */
function login(){
  student=document.getElementById("username").value;
  if(!student) return alert("Enter username");

  showScreen("countdownScreen");
  startCountdown(120);
}

/* COUNTDOWN */
function startCountdown(sec){
  let t=sec;
  let cd=document.getElementById("countdown");

  let i=setInterval(()=>{
    cd.innerText=
      String(Math.floor(t/60)).padStart(2,"0")+":"+
      String(t%60).padStart(2,"0");

    if(t--<=0){
      clearInterval(i);
      startExam();
    }
  },1000);
}

/* START EXAM */
function startExam(){
  showScreen("examScreen");
  document.getElementById("floatingInfo").classList.remove("hidden");
  document.getElementById("studentName").innerText=student;
  startExamTimer(20*60);
  startCamera();
}

/* EXAM TIMER */
function startExamTimer(sec){
  let t=sec;
  let et=document.getElementById("examTimer");

  let i=setInterval(()=>{
    et.innerText=
      String(Math.floor(t/60)).padStart(2,"0")+":"+
      String(t%60).padStart(2,"0");

    if(t--<=0){
      clearInterval(i);
      alert("Time up! Test submitted.");
    }
  },1000);
}

/* REAL CAMERA */
function startCamera(){
  navigator.mediaDevices.getUserMedia({video:true})
    .then(stream=>{
      document.getElementById("video").srcObject=stream;
    })
    .catch(()=>{
      alert("Camera access denied!");
    });
}
</script>

</body>
</html>
